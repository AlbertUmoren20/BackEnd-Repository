#PostgresSQL Render Config

#spring.application.name=studentrepository
#spring.jpa.hibernate.ddl-auto=update
#spring.datasource.url=jdbc:mysql://localhost:3306/studentlogin
#spring.datasource.username=root
#spring.datasource.password=Alby_um01
#spring.jpa.show-sql=true
#spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
#spring.servlet.multipart.max-file-size=10MB
#spring.servlet.multipart.max-request-size=10MB


#spring.application.name=studentrepository
#spring.jpa.hibernate.ddl-auto=update
#spring.datasource.url=jdbc:postgresql://dpg-d85cgnbulbrs73f1126g-a.oregon-postgres.render.com:5432/studentLogin_aa61?sslmode=require
#spring.datasource.username=studentLogin_aa61_user
#spring.datasource.password=k82cAMm5aSujEHMG1heMEf81e7v6f2K8
#spring.jpa.show-sql=true
#spring.datasource.driver-class-name=org.postgresql.Driver
#spring.servlet.multipart.max-file-size=10MB
#spring.servlet.multipart.max-request-size=10MB

# Database Configuration
#spring.datasource.url=jdbc:postgresql://dpg-d05cgnbuibrs73fj126g-a.oregon-postgres.render.com:5432/studentlogin_ma6i?sslmode=require
#spring.datasource.username=studentlogin_ma6i_user
#spring.datasource.password=k8zGAUm5aSujEHNG1heMEf0le7v66ZkS

# Hibernate Configuration
#spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
#spring.jpa.hibernate.ddl-auto=update
##spring.jpa.show-sql=true

# Driver
#spring.datasource.driver-class-name=org.postgresql.Driver


# Local Database Connection (Commented out for production)
# spring.datasource.url=jdbc:mysql://localhost:3306/student_repository
# spring.datasource.username=root
# spring.datasource.password=Gilbert123

# # MySQL Driver
# spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# # Hibernate Settings
# spring.jpa.hibernate.ddl-auto=update
# spring.jpa.show-sql=true
# spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# # Optional: Connection Pool Settings
# spring.datasource.hikari.maximum-pool-size=10


# PROD Database Connection Railway
# Uses environment variables for production (Render), falls back to hardcoded values for local testing
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mysql://turntable.proxy.rlwy.net:55320/e-repository?useSSL=true&requireSSL=true&serverTimezone=UTC&allowPublicKeyRetrieval=true}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:root}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:MYdxycIXVwUoHNXnXkWnOTAgqVXvbkXV}

# MySQL Driver
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Hibernate Settings (can be overridden by environment variables)
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO:update}
spring.jpa.show-sql=${SPRING_JPA_SHOW_SQL:true}
spring.jpa.open-in-view=${SPRING_JPA_OPEN_IN_VIEW:false}
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# Optional: Connection Pool Settings for Production
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000

# File Upload Settings
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
spring.servlet.multipart.enabled=true

# Server Configuration for Render/Production
server.port=${PORT:8080}
spring.application.name=studentrepository